(function(){var e={125:function(){},594:function(){},170:function(){},470:function(){let{Application:e}=Shopware;e.addServiceProviderDecorator("searchTypeService",e=>(e.upsertType("nuonic_available_opensource_plugin",{entityName:"nuonic_available_opensource_plugin",placeholderSnippet:"nuonic-plugin-installer.extension.listing.placeholderSearchBar",listingRoute:"nuonic.plugin.installer.list",hideOnGlobalSearchBar:!1}),e))},720:function(e,n,i){var t=i(125);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals),i(346).Z("70217bb2",t,!0,{})},117:function(e,n,i){var t=i(594);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals),i(346).Z("25793308",t,!0,{})},826:function(e,n,i){var t=i(170);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals),i(346).Z("9dadf22e",t,!0,{})},346:function(e,n,i){"use strict";function t(e,n){for(var i=[],t={},a=0;a<n.length;a++){var s=n[a],r=s[0],l={id:e+":"+a,css:s[1],media:s[2],sourceMap:s[3]};t[r]?t[r].parts.push(l):i.push(t[r]={id:r,parts:[l]})}return i}i.d(n,{Z:function(){return m}});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},r=a&&(document.head||document.getElementsByTagName("head")[0]),l=null,o=0,c=!1,u=function(){},p=null,d="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,n,i,a){c=i,p=a||{};var r=t(e,n);return h(r),function(n){for(var i=[],a=0;a<r.length;a++){var l=s[r[a].id];l.refs--,i.push(l)}n?h(r=t(e,n)):r=[];for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var o=0;o<l.parts.length;o++)l.parts[o]();delete s[l.id]}}}}function h(e){for(var n=0;n<e.length;n++){var i=e[n],t=s[i.id];if(t){t.refs++;for(var a=0;a<t.parts.length;a++)t.parts[a](i.parts[a]);for(;a<i.parts.length;a++)t.parts.push(_(i.parts[a]));t.parts.length>i.parts.length&&(t.parts.length=i.parts.length)}else{for(var r=[],a=0;a<i.parts.length;a++)r.push(_(i.parts[a]));s[i.id]={id:i.id,refs:1,parts:r}}}}function f(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function _(e){var n,i,t=document.querySelector("style["+d+'~="'+e.id+'"]');if(t){if(c)return u;t.parentNode.removeChild(t)}if(g){var a=o++;n=b.bind(null,t=l||(l=f()),a,!1),i=b.bind(null,t,a,!0)}else n=x.bind(null,t=f()),i=function(){t.parentNode.removeChild(t)};return n(e),function(t){t?(t.css!==e.css||t.media!==e.media||t.sourceMap!==e.sourceMap)&&n(e=t):i()}}var v=function(){var e=[];return function(n,i){return e[n]=i,e.filter(Boolean).join("\n")}}();function b(e,n,i,t){var a=i?"":t.css;if(e.styleSheet)e.styleSheet.cssText=v(n,a);else{var s=document.createTextNode(a),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(s,r[n]):e.appendChild(s)}}function x(e,n){var i=n.css,t=n.media,a=n.sourceMap;if(t&&e.setAttribute("media",t),p.ssrId&&e.setAttribute(d,n.id),a&&(i+="\n/*# sourceURL="+a.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}}},n={};function i(t){var a=n[t];if(void 0!==a)return a.exports;var s=n[t]={id:t,exports:{}};return e[t](s,s.exports,i),s.exports}i.d=function(e,n){for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="bundles/nuonicplugininstaller/",window?.__sw__?.assetPath&&(i.p=window.__sw__.assetPath+"/bundles/nuonicplugininstaller/"),function(){"use strict";i(826);let{Component:e,Mixin:n}=Shopware,{Criteria:t}=Shopware.Data;e.register("nuonic-plugin-installer-list",{template:'{% block nuonic_plugin_installer_index %}\n    <sw-page hide-icon>\n        <template #search-bar>\n            <sw-search-bar initial-search-type="nuonic_available_opensource_plugin" :placeholder="$tc(\'nuonic-plugin-installer.extension.listing.placeholderSearchBar\')" @search="onSearch" />\n        </template>\n        <template #smart-bar-header>\n            <h2>\n                {{ $tc(\'nuonic-plugin-installer.list.title\') }}\n            </h2>\n        </template>\n        <template #content>\n            <div class="nuonic-plugin-installer-index">\n                <sw-skeleton v-if="isLoading" :variant="skeletonVariant" />\n                <div v-else class="nuonic-plugin-installer-index__listing-grid">\n                    <template v-for="entry in availablePlugins" :key="entry.id">\n                        <component :is="\'nuonic-extension-card\'" :extension="entry" />\n                    </template>\n                    <sw-pagination :total="total" :limit="limit" :page="page" @page-change="changePage" />\n                </div>\n            </div>\n        </template>\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[n.getByName("listing")],data(){return{availablePlugins:[],page:1,limit:25,total:0,term:null,sortBy:"name",sortDirection:"ASC",loading:!1}},computed:{availablePluginsRepository(){return this.repositoryFactory.create("nuonic_available_opensource_plugin")},availablePluginsCriteria(){let e=new t(this.page,this.limit);return e.setTerm(this.term),e.addSorting(t.sort(this.sortBy,this.sortDirection)),e.addAssociation("plugin"),e.addFilter(t.range("lastSeenAt",{gte:new Date(Date.now()-1728e5)})),e}},methods:{getList(){this.loading=!0,this.availablePluginsRepository.search(this.availablePluginsCriteria).then(e=>{this.availablePlugins=e,this.total=e.total,this.loading=!1})},changePage({page:e=1,limit:n=10}){this.page=e,this.limit=n,this.getList()},onSearch(e){this.term=e,this.getList()}}}),Shopware.Module.register("nuonic-plugin-installer",{type:"plugin",name:"nuonic-plugin-installer.extension.title",title:"nuonic-plugin-installer.extension.title",entity:"nuonic_available_opensource_plugin",description:"nuonic-plugin-installer.extension.description",color:"#66bbe3",icon:"regular-dashboard",navigation:[{label:"nuonic-plugin-installer.extension.title",color:"#66bbe3",path:"nuonic.plugin.installer.list",icon:"regular-dashboard",parent:"sw-extension",position:100}],routes:{list:{component:"nuonic-plugin-installer-list",path:"list"}},defaultSearchConfiguration:{_searchable:!0,name:{_searchable:!0,_score:700}}}),i(117);let{Component:a}=Shopware,{Criteria:s}=Shopware.Data;a.register("nuonic-plugin-installer-index",{template:'{% block nuonic_plugin_installer_index %}\n<div class="nuonic-plugin-installer-index">\n\n</div>\n{% endblock %}\n',inject:["repositoryFactory"],computed:{async packages(){let e=this.repositoryFactory.create("nuonic_available_opensource_plugin");return await e.search(new s)}}});let{Component:r}=Shopware;r.override("sw-search-bar-item",{template:'{% block sw_search_bar_item_cms_page %}\n    {% parent %}\n\n    {% block nuonic_plugin_installer_search_bar_item_opensource_plugin %}\n        <router-link\n            v-else-if="type === \'nuonic_available_opensource_plugin\'"\n            :to="{ name: \'nuonic.plugin.installer.list\', query: { term: item.packageName } }"\n            ref="routerLink"\n            class="sw-search-bar-item__link">\n            {% block nuonic_plugin_installer_search_bar_item_opensource_plugin_label %}\n                <span class="sw-search-bar-item__label">\n                    <sw-highlight-text\n                        :searchTerm="searchTerm"\n                        :text="item.name"\n                    />\n                </span>\n            {% endblock %}\n        </router-link>\n    {% endblock %}\n{% endblock %}\n'}),i(470),i(720);let{Component:l,Mixin:o}=Shopware,{Criteria:c}=Shopware.Data,{Utils:u,Filter:p}=Shopware;l.register("nuonic-extension-card",{template:'<sw-meteor-card	class="nuonic-extension-card-base">\n	<sw-loader	v-if="isLoading" />\n\n	<sw-extension-icon	:src="imageUrl" />\n\n	<div	class="nuonic-extension-card-base__info">\n		<section>\n			<span	class="nuonic-extension-card-base__info-name">\n				{{ extension.name }}\n			</span>\n			<br/>\n			<span	class="nuonic-extension-card-base__info-description">\n				{{ extension.description }}\n			</span>\n			<br/>\n			<span	v-if="extension.manufacturer"	class="nuonic-extension-card-base__info-manufacturer">\n				{{ $tc(\'nuonic-plugin-installer.cards.manufacturer\') }}\n				{{ extension.manufacturer }}\n			</span>\n			|\n			<span	v-if="extension.license"	class="nuonic-extension-card-base__info-license">\n				{{ $tc(\'nuonic-plugin-installer.cards.license\') }}\n				{{ extension.license }}\n			</span>\n		</section>\n	</div>\n\n	<div	class="nuonic-extension-card-base__main-link">\n		<a	:href="extension.link"	target="_blank"	rel="noopener noreferrer">\n			<sw-icon	name="regular-github"></sw-icon>\n		</a>\n	</div>\n\n	<div	class="nuonic-extension-card-base__meta-info">\n		<section>\n			<span	v-if="extension.availableVersion"	class="nuonic-extension-card-base__meta-info-version">\n				{{ $tc(\'nuonic-plugin-installer.cards.version\') }}\n				{{ extension.availableVersion }}\n			</span>\n			<br/>\n			<span	v-if="extension.lastCommitTime"	class="nuonic-extension-card-base__meta-info-last-commit">\n				{{ $tc(\'nuonic-plugin-installer.cards.lastCommit\') }}\n				{{ dateFilter(extension.lastCommitTime, { month: \'numeric\', year: \'numeric\', hour: undefined, minute: undefined }) }}\n			</span>\n\n		</section>\n\n	</div>\n\n	<div	class="nuonic-extension-card-base__main-action">\n		<span	v-if="!isInstalled"	class="nuonic-extension-card-base__open-extension"	role="button"	tabindex="0"	@click="onInstall">\n			{{ $tc(\'nuonic-plugin-installer.cards.install\') }}\n		</span>\n	</div>\n\n</sw-meteor-card>\n',inject:["installExtensionService"],mixins:[o.getByName("notification")],emits:["update-list"],props:{extension:{type:Object,required:!0}},data(){return{isLoading:!1}},computed:{dateFilter(){return Shopware.Filter.getByName("date")},defaultThemeAsset(){return this.assetFilter("administration/static/img/theme/default_theme_preview.jpg")},imageUrl(){let e=window.location.origin;if(!this.extension.icon)return this.defaultThemeAsset;let n=new URLSearchParams({url:this.extension.icon});return`${e}/api/_action/nuonic-plugin-installer/proxy?${n}`},isInstalled(){return null!==this.extension.pluginId},assetFilter(){return p.getByName("asset")}},methods:{emitUpdateList(){this.$emit("update-list")},onInstall(){this.isLoading=!0;let e={openSourcePluginId:this.extension.id};this.installExtensionService.install(e).then(()=>{this.isLoading=!1,this.$router.push({name:"sw.extension.my-extensions.listing.app",query:{term:this.extension.name}})}).catch(e=>{this.isLoading=!1,this.createNotificationError({message:this.$tc("nuonic-plugin-installer.notification.installFailed"),error:e})})}}});let d=Shopware.Classes.ApiService,{Application:g}=Shopware;class m extends d{constructor(e,n,i="nuonic-plugin-installer"){super(e,n,i)}install(e){let n=this.getBasicHeaders({});return this.httpClient.post("_action/nuonic-plugin-installer/install",e,{headers:n}).then(e=>d.handleResponse(e))}}g.addServiceProvider("installExtensionService",e=>new m(g.getContainer("init").httpClient,e.loginService));var h=JSON.parse('{"global":{"entities":{"nuonic_available_opensource_plugin":"OpenSource Plugins"}},"nuonic-plugin-installer":{"extension":{"title":"OpenSource Plugin Installer","description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel diam mi. Quisque consectetur condimentum blandit. Integer nunc nisi, porttitor sed nunc bibendum, vestibulum.","listing":{"placeholderSearchBar":"Suche nach Plugins..."}},"list":{"title":"OpenSource Plugin Installer"},"cards":{"version":"Version:","install":"Installieren","lastCommit":"Letzter Commit am:","license":"Lizenz:","manufacturer":"Hersteller:"},"notification":{"installFailed":"Installation fehlgeschlagen"}},"ce_plugins":{"moduleTitle":"OpenSource Plugins"},"sw-profile":{"tabSearchPreferences":{"modules":{"nuonic_available_opensource_plugin":{"name":"OpenSource Plugin"}}}}}'),f=JSON.parse('{"global":{"entities":{"nuonic_available_opensource_plugin":"OpenSource Plugins"}},"nuonic-plugin-installer":{"extension":{"title":"OpenSource Plugin Installer","description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas vel diam mi. Quisque consectetur condimentum blandit. Integer nunc nisi, porttitor sed nunc bibendum, vestibulum.","listing":{"placeholderSearchBar":"Search for plugins..."}},"list":{"title":"OpenSource Plugin Installer"},"cards":{"version":"Version:","install":"Install","lastCommit":"Last commit on:","license":"License:","manufacturer":"Manufacturer:"},"notification":{"installFailed":"Installation failed"}},"ce_plugins":{"moduleTitle":"OpenSource Plugins"},"sw-profile":{"tabSearchPreferences":{"modules":{"nuonic_available_opensource_plugin":{"name":"OpenSource Plugin"}}}}}');Shopware.Locale.extend("de-DE",h),Shopware.Locale.extend("en-GB",f)}()})();